"use strict";exports.id=479,exports.ids=[479],exports.modules={7479:(a,i,t)=>{t.d(i,{TB:()=>createBooking,aL:()=>getBookings,lm:()=>getAvailability});var e=t(1874),o=t(4065);let n=[],l=[];l=[{date:(0,o.Z)((0,e.Z)(new Date,3),"yyyy-MM-dd"),timeSlots:[{id:"1",time:"10:00",available:!0,maxCapacity:8,currentBookings:2},{id:"2",time:"14:00",available:!0,maxCapacity:8,currentBookings:5},{id:"3",time:"18:00",available:!0,maxCapacity:6,currentBookings:1}]},{date:(0,o.Z)((0,e.Z)(new Date,5),"yyyy-MM-dd"),timeSlots:[{id:"4",time:"10:00",available:!0,maxCapacity:8,currentBookings:0},{id:"5",time:"14:00",available:!1,maxCapacity:8,currentBookings:8},{id:"6",time:"18:00",available:!0,maxCapacity:6,currentBookings:3}]},{date:(0,o.Z)((0,e.Z)(new Date,7),"yyyy-MM-dd"),timeSlots:[{id:"7",time:"10:00",available:!0,maxCapacity:8,currentBookings:1},{id:"8",time:"14:00",available:!0,maxCapacity:8,currentBookings:3},{id:"9",time:"18:00",available:!0,maxCapacity:6,currentBookings:2}]},{date:(0,o.Z)((0,e.Z)(new Date,14),"yyyy-MM-dd"),timeSlots:[{id:"10",time:"10:00",available:!0,maxCapacity:8,currentBookings:0},{id:"11",time:"14:00",available:!0,maxCapacity:8,currentBookings:2},{id:"12",time:"18:00",available:!0,maxCapacity:6,currentBookings:1}]},{date:(0,o.Z)((0,e.Z)(new Date,21),"yyyy-MM-dd"),timeSlots:[{id:"13",time:"10:00",available:!0,maxCapacity:8,currentBookings:4},{id:"14",time:"14:00",available:!0,maxCapacity:8,currentBookings:1},{id:"15",time:"18:00",available:!0,maxCapacity:6,currentBookings:0}]},{date:(0,o.Z)((0,e.Z)(new Date,28),"yyyy-MM-dd"),timeSlots:[{id:"16",time:"10:00",available:!0,maxCapacity:8,currentBookings:2},{id:"17",time:"14:00",available:!0,maxCapacity:8,currentBookings:1},{id:"18",time:"18:00",available:!0,maxCapacity:6,currentBookings:0}]}];let getAvailability=async(a,i,t)=>l.filter(a=>a.date>=i&&a.date<=t),createBooking=async a=>{let i=l.find(i=>i.date===a.date),t=i?.timeSlots.find(i=>i.time===a.time);if(!t)throw Error("Time slot not found");if(!t.available)throw Error("Time slot not available");let e=t.maxCapacity-t.currentBookings;if(e<a.participants)throw Error(`Not enough spots available. Only ${e} spots left.`);let o={id:`booking-${Date.now()}`,date:a.date,time:a.time,name:a.name,email:a.email,phone:a.phone,participants:a.participants,specialRequests:a.specialRequests,createdAt:new Date().toISOString(),status:"pending"};return n.push(o),t.currentBookings+=a.participants,t.currentBookings>=t.maxCapacity&&(t.available=!1),o},getBookings=async a=>a?n.filter(i=>i.email===a&&"cancelled"!==i.status):n.filter(a=>"cancelled"!==a.status)}};