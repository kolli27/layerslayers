exports.id=169,exports.ids=[169],exports.modules={8443:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,3724,23)),Promise.resolve().then(a.t.bind(a,5365,23)),Promise.resolve().then(a.t.bind(a,4900,23)),Promise.resolve().then(a.t.bind(a,4714,23)),Promise.resolve().then(a.t.bind(a,5392,23)),Promise.resolve().then(a.t.bind(a,8898,23))},5684:(e,t,a)=>{Promise.resolve().then(a.bind(a,7132))},3211:(e,t,a)=>{"use strict";a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(784),r=a(9885),i=a(6047),l=a(3709),n=a(3677),c=a(2831),o=a(8210),d=a(31),m=a(2473),x=a(972),h=a(5441),u=a(1910),g=a(1922);let __WEBPACK_DEFAULT_EXPORT__=({selectedDate:e,selectedService:t,onDateSelect:a,onTimeSelect:p})=>{let[b,y]=(0,r.useState)(new Date),[f,v]=(0,r.useState)([]),[j,N]=(0,r.useState)([]),fetchAvailability=async()=>{try{let e=(0,i.Z)(b,"yyyy-MM-dd"),a=(0,i.Z)((0,l.Z)(b,60),"yyyy-MM-dd"),s=await fetch(`/api/availability?service=${t}&startDate=${e}&endDate=${a}`);if(s.ok){let e=await s.json();v(e)}}catch(t){console.error("Error fetching availability:",t);let e=[{date:(0,i.Z)((0,l.Z)(new Date,3),"yyyy-MM-dd"),timeSlots:[{id:"1",time:"10:00",available:!0,maxCapacity:8,currentBookings:2},{id:"2",time:"14:00",available:!0,maxCapacity:8,currentBookings:5},{id:"3",time:"18:00",available:!0,maxCapacity:6,currentBookings:1}]},{date:(0,i.Z)((0,l.Z)(new Date,5),"yyyy-MM-dd"),timeSlots:[{id:"4",time:"10:00",available:!0,maxCapacity:8,currentBookings:0},{id:"5",time:"14:00",available:!1,maxCapacity:8,currentBookings:8},{id:"6",time:"18:00",available:!0,maxCapacity:6,currentBookings:3}]}];v(e)}};(0,r.useEffect)(()=>{fetchAvailability()},[t,b]),(0,r.useEffect)(()=>{if(e){let t=f.find(t=>t.date===e)?.timeSlots||[];N(t)}else N([])},[e,f]);let w=(0,n.Z)(b),k=(0,c.Z)(b),Z=(0,o.Z)({start:w,end:k}),isDateAvailable=e=>{let t=(0,i.Z)(e,"yyyy-MM-dd");return f.some(e=>e.date===t&&e.timeSlots.some(e=>e.available))},isDateToday=e=>(0,d.Z)(e,new Date),isDatePast=e=>(0,m.Z)(e,new Date)&&!isDateToday(e),getAvailableSlotsCount=e=>{let t=(0,i.Z)(e,"yyyy-MM-dd"),a=f.find(e=>e.date===t);return a?a.timeSlots.filter(e=>e.available).length:0},handleDateClick=e=>{if(isDatePast(e)||!isDateAvailable(e))return;let t=(0,i.Z)(e,"yyyy-MM-dd");a(t)},handleTimeClick=e=>{p(e)},D=(()=>{let e=f.filter(e=>e.timeSlots.some(e=>e.available)).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime());return e[0]?new Date(e[0].date):null})();return(0,s.jsxs)("div",{className:"space-y-6",children:[D&&s.jsx("div",{className:"bg-ceramic-terracotta/10 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-ceramic-brown font-medium",children:[s.jsx(h.Z,{className:"inline h-4 w-4 mr-1"}),"N\xe4chster verf\xfcgbarer Termin: ",(0,i.Z)(D,"dd. MMMM yyyy",{locale:x.Z})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>{y(e=>new Date(e.getFullYear(),e.getMonth()-1))},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(u.Z,{className:"h-5 w-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(0,i.Z)(b,"MMMM yyyy",{locale:x.Z})}),s.jsx("button",{onClick:()=>{y(e=>new Date(e.getFullYear(),e.getMonth()+1))},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(g.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[["Mo","Di","Mi","Do","Fr","Sa","So"].map(e=>s.jsx("div",{className:"p-2 text-gray-500 font-medium",children:e},e)),Z.map(t=>{let a=(0,i.Z)(t,"yyyy-MM-dd"),r=isDateAvailable(t),l=isDatePast(t),n=e===a,c=getAvailableSlotsCount(t);return(0,s.jsxs)("button",{onClick:()=>handleDateClick(t),disabled:l||!r,className:`
                p-2 rounded-lg text-sm font-medium transition-colors relative
                ${n?"bg-ceramic-terracotta text-white":r?"bg-ceramic-sage/20 text-ceramic-brown hover:bg-ceramic-sage/30":l?"text-gray-300 cursor-not-allowed":"text-gray-400 cursor-not-allowed"}
              `,children:[(0,i.Z)(t,"d"),r&&c>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-ceramic-terracotta rounded-full text-white text-xs flex items-center justify-center",children:c})]},a)})]}),e&&j.length>0&&(0,s.jsxs)("div",{className:"border-t pt-6",children:[(0,s.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Verf\xfcgbare Zeiten f\xfcr ",(0,i.Z)(new Date(e),"dd. MMMM yyyy",{locale:x.Z})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:j.map(e=>(0,s.jsxs)("button",{onClick:()=>handleTimeClick(e.time),disabled:!e.available,className:`
                  p-3 rounded-lg border-2 transition-colors text-left
                  ${e.available?"border-ceramic-terracotta/30 hover:border-ceramic-terracotta hover:bg-ceramic-terracotta/5":"border-gray-200 bg-gray-50 cursor-not-allowed"}
                `,children:[s.jsx("div",{className:"font-semibold text-gray-900",children:e.time}),s.jsx("div",{className:"text-sm text-gray-600",children:e.available?`${e.maxCapacity-e.currentBookings} Pl\xe4tze frei`:"Ausgebucht"})]},e.id))})]})]})}},1758:(e,t,a)=>{"use strict";a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(784),r=a(9885),i=a(6047),l=a(972),n=a(1264),c=a(3680),o=a(9490),d=a(4571),m=a(1672),x=a(8310);let __WEBPACK_DEFAULT_EXPORT__=({selectedDate:e,selectedTime:t,selectedService:a})=>{let[h,u]=(0,r.useState)({name:"",email:"",phone:"",participants:1,specialRequests:""}),[g,p]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),handleInputChange=e=>{let{name:t,value:a}=e.target;u(e=>({...e,[t]:a}))},handleSubmit=async s=>{if(s.preventDefault(),e&&t){p(!0);try{let s=await fetch("/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e,time:t,service:a,name:h.name,email:h.email,phone:h.phone,participants:h.participants,specialRequests:h.specialRequests})});if(s.ok)y(!0),setTimeout(()=>{y(!1),u({name:"",email:"",phone:"",participants:1,specialRequests:""})},3e3);else{let e=await s.json();alert(`Booking failed: ${e.error}`)}}catch(e){console.error("Error creating booking:",e),alert("Booking failed. Please try again.")}finally{p(!1)}}},f=h.name&&h.email&&h.phone&&e&&t;return b?(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 bg-ceramic-sage/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(n.Z,{className:"h-8 w-8 text-ceramic-sage"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Buchung erfolgreich!"}),s.jsx("p",{className:"text-gray-600",children:"Wir haben deine Buchung erhalten und senden dir in K\xfcrze eine Best\xe4tigung per E-Mail."})]}):(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(e||t)&&(0,s.jsxs)("div",{className:"bg-ceramic-cream/30 rounded-lg p-4 space-y-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Deine Auswahl:"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Service:"})," ",{"open-studio":"Offenes Atelier","group-event":"Gruppen-Event","date-night":"Date-Night",workshop:"Workshop"}[a]]}),e&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Datum:"})," ",(0,i.Z)(new Date(e),"dd. MMMM yyyy",{locale:l.Z})]}),t&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Uhrzeit:"})," ",t]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(c.Z,{className:"inline h-4 w-4 mr-1"}),"Name *"]}),s.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:handleInputChange,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ceramic-terracotta focus:border-transparent",placeholder:"Dein vollst\xe4ndiger Name",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(o.Z,{className:"inline h-4 w-4 mr-1"}),"E-Mail *"]}),s.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:handleInputChange,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ceramic-terracotta focus:border-transparent",placeholder:"deine@email.de",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(d.Z,{className:"inline h-4 w-4 mr-1"}),"Telefon *"]}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:handleInputChange,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ceramic-terracotta focus:border-transparent",placeholder:"0221 12345678",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"participants",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(m.Z,{className:"inline h-4 w-4 mr-1"}),"Anzahl Personen"]}),s.jsx("select",{id:"participants",name:"participants",value:h.participants,onChange:handleInputChange,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ceramic-terracotta focus:border-transparent text-base",children:[1,2,3,4,5,6,7,8,9,10].map(e=>(0,s.jsxs)("option",{value:e,children:[e," Person",e>1?"en":""]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"specialRequests",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(x.Z,{className:"inline h-4 w-4 mr-1"}),"Besondere W\xfcnsche"]}),s.jsx("textarea",{id:"specialRequests",name:"specialRequests",value:h.specialRequests,onChange:handleInputChange,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ceramic-terracotta focus:border-transparent",placeholder:"Allergien, besondere W\xfcnsche, etc."})]})]}),s.jsx("button",{type:"submit",disabled:!f||g,className:`w-full py-3 px-6 rounded-lg font-semibold transition-colors ${f&&!g?"bg-ceramic-terracotta hover:bg-ceramic-brown text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:g?"Wird gebucht...":"Jetzt buchen"}),s.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Mit der Buchung stimmst du unseren AGB zu. Du erh\xe4ltst eine Best\xe4tigung per E-Mail."})]})}},7132:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(784),r=a(9885),i=a(517),l=a(6206),n=a(1922),c=a(3211),o=a(1758);let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,t]=(0,r.useState)(!1),[a,d]=(0,r.useState)(null),[m,x]=(0,r.useState)(null),[h,u]=(0,r.useState)("open-studio"),[g,p]=(0,r.useState)("service"),b=[{id:"open-studio",name:"Offenes Atelier",duration:"2-3h",price:"Ab 15€"},{id:"group-event",name:"Gruppen-Event",duration:"2-4h",price:"Ab 20€/Person"},{id:"date-night",name:"Date-Night",duration:"3h",price:"45€ f\xfcr 2"},{id:"workshop",name:"Workshop",duration:"3-4h",price:"Ab 35€"}],handleServiceSelect=e=>{u(e),p("calendar")},resetWidget=()=>{p("service"),d(null),x(null),u("open-studio")};return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-50",children:(0,s.jsxs)("button",{onClick:()=>t(!e),className:"btn-primary shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center space-x-2 text-sm sm:text-base",children:[s.jsx(i.Z,{className:"h-4 w-4 sm:h-5 sm:w-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Termin buchen"}),s.jsx("span",{className:"sm:hidden",children:"Buchen"})]})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-2 sm:p-4",children:(0,s.jsxs)("div",{className:"bg-cream-light rounded-2xl shadow-xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-cta text-ui-white p-4 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Schnell buchen"}),s.jsx("button",{onClick:()=>{t(!1),setTimeout(()=>resetWidget(),300)},className:"p-1 hover:bg-black/20 rounded-full transition-colors",children:s.jsx(l.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"p-4 sm:p-6 max-h-[85vh] sm:max-h-[80vh] overflow-y-auto",children:["service"===g&&(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-4",children:"Service w\xe4hlen"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map(e=>(0,s.jsxs)("button",{onClick:()=>handleServiceSelect(e.id),className:"ceramic-card hover-lift text-left group",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold text-text-primary group-hover:text-clay-primary transition-colors",children:e.name}),s.jsx("p",{className:"text-sm text-text-muted",children:e.duration})]}),s.jsx("div",{className:"text-clay-primary font-semibold text-sm",children:e.price})]}),s.jsx(n.Z,{className:"h-4 w-4 text-clay-primary mt-2 group-hover:translate-x-1 transition-transform"})]},e.id))})]}),"calendar"===g&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Datum & Zeit w\xe4hlen"}),s.jsx("button",{onClick:()=>p("service"),className:"text-clay-primary hover:text-clay-dark text-sm font-medium",children:"Service \xe4ndern"})]}),s.jsx("div",{className:"bg-cream-base rounded-lg p-3 mb-4",children:(0,s.jsxs)("p",{className:"text-sm text-text-secondary",children:[s.jsx("strong",{children:"Gew\xe4hlt:"})," ",b.find(e=>e.id===h)?.name]})}),s.jsx(c.Z,{selectedDate:a,selectedService:h,onDateSelect:e=>{d(e),x(null),p("calendar")},onTimeSelect:e=>{x(e),p("form")}})]}),"form"===g&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Buchung abschlie\xdfen"}),s.jsx("button",{onClick:()=>p("calendar"),className:"text-clay-primary hover:text-clay-dark text-sm font-medium",children:"Zeit \xe4ndern"})]}),s.jsx(o.Z,{selectedDate:a,selectedTime:m,selectedService:h})]})]})]})})]})}},4076:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>RootLayout,metadata:()=>o});var s=a(4656);a(5023);var r=a(5153);let i=(0,r.createProxy)(String.raw`/workspaces/layerslayers/src/components/FloatingBookingWidget.tsx`),{__esModule:l,$$typeof:n}=i,c=i.default,o={title:"LAYERS - Keramik Atelier K\xf6ln",description:"Kreatives Keramik-Atelier in K\xf6ln. Bemale deine eigene Keramik in entspannter Atmosph\xe4re.",keywords:"Keramik, K\xf6ln, Atelier, Keramik bemalen, Kreativ, Workshop"};function RootLayout({children:e}){return s.jsx("html",{lang:"de",children:(0,s.jsxs)("body",{className:"font-sans antialiased",children:[e,s.jsx(c,{})]})})}},5023:()=>{}};